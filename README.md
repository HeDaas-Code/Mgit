# MGit - Markdown笔记与Git版本控制

MGit是一款基于Python的Markdown笔记应用，结合了直观的编辑体验与强大的Git版本控制系统，为您提供高效、安全的知识管理解决方案。

## 主要特点

- **优雅的用户界面**：基于PyQt-Fluent-Widgets设计，参考VSCode的界面布局，提供现代化的用户体验
- **Markdown编辑器**：支持实时预览的Markdown编辑器，让写作更加高效
- **Git集成**：内置Git版本控制，让您轻松追踪笔记的变更历史
- **多主题支持**：提供浅色和深色主题，适应不同的使用环境
- **增强的OAuth认证**：优化的GitHub和Gitee OAuth授权流程，保证登录安全与稳定
- **资源管理优化**：智能的Web资源清理机制，确保应用长时间运行不会内存泄漏
- **云存储与本地备份**：支持将笔记存储在GitHub等Git服务中，同时保留本地备份
- **插件系统**：基于PluginBase库实现的插件架构，允许用户开发和安装自定义插件扩展功能
- **组件化架构**：采用Component-Based Development设计模式，具有高度的可扩展性和可维护性
- **强大的日志管理**：全面的日志分析、优化和清理系统，保持应用性能与存储效率

## 技术栈

- Python
- PyQt5
- PyQt-Fluent-Widgets
- GitPython
- PyQtWebEngine
- PluginBase

## 使用场景

- **个人知识库**：构建个人的知识体系，记录学习心得、项目笔记
- **团队协作**：团队成员可以共同编辑同一份文档，实现高效的协作
- **项目管理**：用于管理项目文档，跟踪变更，轻松回溯到早期版本
- **功能扩展**：通过插件系统定制个性化功能，满足特定需求

## 部署与启动

MGit提供了一个简单易用的启动脚本`start.py`，支持自动配置环境并启动应用：

### 启动脚本功能

- **环境检测**：自动检查Python环境（需要Python 3.10+）
- **自动安装**：在Windows系统下，如果未检测到合适版本的Python，可自动下载并安装
- **虚拟环境管理**：自动创建`venv-dev`虚拟环境并安装所需依赖
- **智能启动**：根据配置决定是否显示控制台窗口

### 使用方法

1. **开发调试模式**：直接运行`start.py`脚本，将显示控制台窗口
   ```bash
   python start.py
   ```

2. **生产模式**：通过修改`start.py`中的`DEBUG = False`，启动时将隐藏控制台窗口

3. **打包分发**：
   ```bash
   pyinstaller --onefile --windowed start.py
   ```

### 自动化的环境配置

- 首次运行时，启动脚本会自动检查环境并安装必要组件
- 后续运行将直接使用已配置的环境启动应用
- 支持Windows、Linux和macOS系统，提供跨平台一致体验

## 文档

- [安装指南](./docs/installation.md)
- [OAuth认证指南](./docs/oauth_authentication.md)
- [插件开发指南](./docs/plugin_development.md)
- [更新日志](./CHANGELOG.md)
- [日志管理系统更新文档](./docs/log_system_updates.md)
- [日志优化器用户指南](./docs/log_optimizer_README.md)
  
## 插件系统

MGit引入了强大的插件系统，允许用户和开发者扩展应用功能：

- **多种插件类型**：支持工具栏插件、编辑器插件、主题插件、视图插件等多种类型
- **简单的API**：提供简洁明了的API，降低插件开发门槛
- **插件管理界面**：内置友好的插件管理界面，方便用户启用、禁用和配置插件
- **丰富的事件和钩子**：提供多种事件和钩子点，让插件能够灵活地与应用交互
- **内置示例插件**：包含单词计数器等示例插件，帮助开发者快速上手

查看[插件开发指南](./docs/plugin_development.md)了解更多信息。

## 日志管理系统

MGit引入了强大的日志管理系统，帮助用户全面管理和优化应用运行日志：

- **智能分析**：
  - **状态分析**：评估日志系统的整体健康状况
  - **空间分析**：分析日志存储占用情况
  - **效率分析**：评估日志写入效率和性能影响
  - **内容分析**：分析日志的级别分布和分类占比

- **高级过滤**：
  - **多维度筛选**：按时间、级别、分类和关键词进行精确过滤
  - **预设筛选模板**：常用筛选条件的快速应用
  - **错误日志聚焦**：快速定位并分析错误和性能问题

- **全方位优化**：
  - **一键优化**：根据分析结果自动执行多项优化
  - **定向优化**：针对特定问题执行专门的优化操作
  - **优化建议**：提供可操作的优化建议，由用户选择执行
  - **智能清理**：基于时间和类别的过期日志清理

- **用户友好设计**：
  - **实时监控**：可配置的自动刷新功能，实时追踪最新日志
  - **详细报告**：优化和清理操作的完整结果报告
  - **图形化界面**：直观的日志分布和健康状态可视化
  - **智能推荐**：基于日志状态的个性化优化建议

- **最新改进**：
  - **筛选功能优化**：修复了日志级别筛选中的"全部"级别处理问题
  - **清理功能增强**：完善了日志清理参数处理，提高清理成功率
  - **界面响应优化**：提升了日志加载和分析的性能

查看[日志管理系统更新文档](./docs/log_system_updates.md)与[日志优化器用户指南](./docs/log_optimizer_README.md)了解更多更新信息，或查看[更新日志](./CHANGELOG.md)获取最新改进详情。

## 贡献

欢迎提交问题和贡献代码，共同改进MGit！

## 许可证

本项目采用MIT许可证，详情请见[LICENSE](./LICENSE)文件。
